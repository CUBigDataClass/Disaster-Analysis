var disasterAnalysis = angular.module('disasterAnalysis', []);

disasterAnalysis.controller('realTimeSparkController', ['$scope','$http',function ($scope,$http) {

$scope.data = {
    repeatSelect: null,
    availableOptions: [
    	{id: 'bomb' , name: 'bomb' }, 
{id: 'violent storm' , name: 'violent storm' }, 
{id: 'hijacker' , name: 'hijacker' }, 
{id: 'bombed' , name: 'bombed' }, 
{id: 'sunk' , name: 'sunk' }, 
{id: 'avalanche' , name: 'avalanche' }, 
{id: 'debris' , name: 'debris' }, 
{id: 'body bag' , name: 'body bag' }, 
{id: 'battle' , name: 'battle' }, 
{id: 'fear' , name: 'fear' }, 
{id: 'weapons' , name: 'weapons' }, 
{id: 'catastrophe' , name: 'catastrophe' }, 
{id: 'forest fire' , name: 'forest fire' }, 
{id: 'ruin' , name: 'ruin' }, 
{id: 'buildings burning' , name: 'buildings burning' }, 
{id: 'blaze' , name: 'blaze' }, 
{id: 'fatal' , name: 'fatal' }, 
{id: 'airplane accident' , name: 'airplane accident' }, 
{id: 'sinking' , name: 'sinking' }, 
{id: 'electrocute' , name: 'electrocute' }, 
{id: 'rescue' , name: 'rescue' }, 
{id: 'hostage' , name: 'hostage' }, 
{id: 'massacre' , name: 'massacre' }, 
{id: 'traumatised' , name: 'traumatised' }, 
{id: 'trouble' , name: 'trouble' }, 
{id: 'screaming' , name: 'screaming' }, 
{id: 'suicide bomb' , name: 'suicide bomb' }, 
{id: 'annihilated' , name: 'annihilated' }, 
{id: 'loud bang' , name: 'loud bang' }, 
{id: 'floods' , name: 'floods' }, 
{id: 'quarantine' , name: 'quarantine' }, 
{id: 'obliterate' , name: 'obliterate' }, 
{id: 'cliff fall' , name: 'cliff fall' }, 
{id: 'body bagging' , name: 'body bagging' }, 
{id: 'snowstorm' , name: 'snowstorm' }, 
{id: 'whirlwind' , name: 'whirlwind' }, 
{id: 'disaster' , name: 'disaster' }, 
{id: 'bleeding' , name: 'bleeding' }, 
{id: 'razed' , name: 'razed' }, 
{id: 'famine' , name: 'famine' }, 
{id: 'armageddon' , name: 'armageddon' }, 
{id: 'wreck' , name: 'wreck' }, 
{id: 'thunder' , name: 'thunder' }, 
{id: 'wrecked' , name: 'wrecked' }, 
{id: 'crush' , name: 'crush' }, 
{id: 'burned' , name: 'burned' }, 
{id: 'sirens' , name: 'sirens' }, 
{id: 'explosion' , name: 'explosion' }, 
{id: 'screams' , name: 'screams' }, 
{id: 'rescuers' , name: 'rescuers' }, 
{id: 'bridge collapse' , name: 'bridge collapse' }, 
{id: 'survivors' , name: 'survivors' }, 
{id: 'fatality' , name: 'fatality' }, 
{id: 'earthquake' , name: 'earthquake' }, 
{id: 'accident' , name: 'accident' }, 
{id: 'flames' , name: 'flames' }, 
{id: 'detonate' , name: 'detonate' }, 
{id: 'mass murderer' , name: 'mass murderer' }, 
{id: 'smoke' , name: 'smoke' }, 
{id: 'military' , name: 'military' }, 
{id: 'stretcher' , name: 'stretcher' }, 
{id: 'blizzard' , name: 'blizzard' }, 
{id: 'danger' , name: 'danger' }, 
{id: 'bloody' , name: 'bloody' }, 
{id: 'panicking' , name: 'panicking' }, 
{id: 'drowned' , name: 'drowned' }, 
{id: 'eyewitness' , name: 'eyewitness' }, 
{id: 'devastation' , name: 'devastation' }, 
{id: 'bush fires' , name: 'bush fires' }, 
{id: 'army' , name: 'army' }, 
{id: 'heat wave' , name: 'heat wave' }, 
{id: 'emergency plan' , name: 'emergency plan' }, 
{id: 'tragedy' , name: 'tragedy' }, 
{id: 'collided' , name: 'collided' }, 
{id: 'survive' , name: 'survive' }, 
{id: 'injury' , name: 'injury' }, 
{id: 'riot' , name: 'riot' }, 
{id: 'attacked' , name: 'attacked' }, 
{id: 'fire' , name: 'fire' }, 
{id: 'bioterrorism' , name: 'bioterrorism' }, 
{id: 'wounds' , name: 'wounds' }, 
{id: 'quarantined' , name: 'quarantined' }, 
{id: 'drown' , name: 'drown' }, 
{id: 'hailstorm' , name: 'hailstorm' }, 
{id: 'casualties' , name: 'casualties' }, 
{id: 'mass murder' , name: 'mass murder' }, 
{id: 'demolish' , name: 'demolish' }, 
{id: 'collision' , name: 'collision' }, 
{id: 'pandemonium' , name: 'pandemonium' }, 
{id: 'sandstorm' , name: 'sandstorm' }, 
{id: 'electrocuted' , name: 'electrocuted' }, 
{id: 'landslide' , name: 'landslide' }, 
{id: 'flooding' , name: 'flooding' }, 
{id: 'mayhem' , name: 'mayhem' }, 
{id: 'rainstorm' , name: 'rainstorm' }, 
{id: 'demolition' , name: 'demolition' }, 
{id: 'blew up' , name: 'blew up' }, 
{id: 'hijacking' , name: 'hijacking' }, 
{id: 'siren' , name: 'siren' }, 
{id: 'terrorist' , name: 'terrorist' }, 
{id: 'inundated' , name: 'inundated' }, 
{id: 'damage' , name: 'damage' }, 
{id: 'lava' , name: 'lava' }, 
{id: 'devastated' , name: 'devastated' }, 
{id: 'forest fires' , name: 'forest fires' }, 
{id: 'outbreak' , name: 'outbreak' }, 
{id: 'terrorism' , name: 'terrorism' }, 
{id: 'panic' , name: 'panic' }, 
{id: 'detonation' , name: 'detonation' }, 
{id: 'injured' , name: 'injured' }, 
{id: 'deluged' , name: 'deluged' }, 
{id: 'windstorm' , name: 'windstorm' }, 
{id: 'thunderstorm' , name: 'thunderstorm' }, 
{id: 'hazard' , name: 'hazard' }, 
{id: 'crushed' , name: 'crushed' }, 
{id: 'crashed' , name: 'crashed' }, 
{id: 'blood' , name: 'blood' }, 
{id: 'buildings on fire' , name: 'buildings on fire' }, 
{id: 'destruction' , name: 'destruction' }, 
{id: 'deluge' , name: 'deluge' }, 
{id: 'weapon' , name: 'weapon' }, 
{id: 'sinkhole' , name: 'sinkhole' }, 
{id: 'aftershock' , name: 'aftershock' }, 
{id: 'ambulance' , name: 'ambulance' }, 
{id: 'wreckage' , name: 'wreckage' }, 
{id: 'desolate' , name: 'desolate' }, 
{id: 'blown up' , name: 'blown up' }, 
{id: 'fatalities' , name: 'fatalities' }, 
{id: 'injuries' , name: 'injuries' }, 
{id: 'bombing' , name: 'bombing' }, 
{id: 'structural failure' , name: 'structural failure' }, 
{id: 'death' , name: 'death' }, 
{id: 'police' , name: 'police' }, 
{id: 'destroyed' , name: 'destroyed' }, 
{id: 'engulfed' , name: 'engulfed' }, 
{id: 'crash' , name: 'crash' }, 
{id: 'emergency' , name: 'emergency' }, 
{id: 'inundation' , name: 'inundation' }, 
{id: 'collide' , name: 'collide' }, 
{id: 'blight' , name: 'blight' }, 
{id: 'destroy' , name: 'destroy' }, 
{id: 'dust storm' , name: 'dust storm' }, 
{id: 'mudslide' , name: 'mudslide' }, 
{id: 'displaced' , name: 'displaced' }, 
{id: 'arsonist' , name: 'arsonist' }, 
{id: 'nuclear reactor' , name: 'nuclear reactor' }, 
{id: 'blazing' , name: 'blazing' }, 
{id: 'lightning' , name: 'lightning' }, 
{id: 'explode' , name: 'explode' }, 
{id: 'tsunami' , name: 'tsunami' }, 
{id: 'burning buildings' , name: 'burning buildings' }, 
{id: 'volcano' , name: 'volcano' }, 
{id: 'hijack' , name: 'hijack' }, 
{id: 'refugees' , name: 'refugees' }, 
{id: 'derailment' , name: 'derailment' }, 
{id: 'harm' , name: 'harm' }, 
{id: 'hail' , name: 'hail' }, 
{id: 'bioterror' , name: 'bioterror' }, 
{id: 'hurricane' , name: 'hurricane' }, 
{id: 'trauma' , name: 'trauma' }, 
{id: 'evacuation' , name: 'evacuation' }, 
{id: 'cyclone' , name: 'cyclone' }, 
{id: 'epicentre' , name: 'epicentre' }, 
{id: 'nuclear disaster' , name: 'nuclear disaster' }, 
{id: 'hostages' , name: 'hostages' }, 
{id: 'obliteration' , name: 'obliteration' }, 
{id: 'suicide bomber' , name: 'suicide bomber' }, 
{id: 'drowning' , name: 'drowning' }, 
{id: 'derailed' , name: 'derailed' }, 
{id: 'threat' , name: 'threat' }, 
{id: 'apocalypse' , name: 'apocalypse' }, 
{id: 'chemical emergency' , name: 'chemical emergency' }, 
{id: 'burning' , name: 'burning' }, 
{id: 'obliterated' , name: 'obliterated' }, 
{id: 'screamed' , name: 'screamed' }, 
{id: 'fire truck' , name: 'fire truck' }, 
{id: 'seismic' , name: 'seismic' }, 
{id: 'wildfire' , name: 'wildfire' }, 
{id: 'emergency services' , name: 'emergency services' }, 
{id: 'attack' , name: 'attack' }, 
{id: 'storm' , name: 'storm' }, 
{id: 'catastrophic' , name: 'catastrophic' }, 
{id: 'twister' , name: 'twister' }, 
{id: 'evacuated' , name: 'evacuated' }, 
{id: 'natural disaster' , name: 'natural disaster' }, 
{id: 'collapse' , name: 'collapse' }, 
{id: 'trapped' , name: 'trapped' }, 
{id: 'war zone' , name: 'war zone' }, 
{id: 'exploded' , name: 'exploded' }, 
{id: 'collapsed' , name: 'collapsed' }, 
{id: 'oil spill' , name: 'oil spill' }, 
{id: 'evacuate' , name: 'evacuate' }, 
{id: 'typhoon' , name: 'typhoon' }, 
{id: 'dead' , name: 'dead' }, 
{id: 'survived' , name: 'survived' }, 
{id: 'first responders' , name: 'first responders' }, 
{id: 'keyword' , name: 'keyword' }, 
{id: 'radiation emergency' , name: 'radiation emergency' }, 
{id: 'annihilation' , name: 'annihilation' }, 
{id: 'deaths' , name: 'deaths' }, 
{id: 'rubble' , name: 'rubble' }, 
{id: 'ablaze' , name: 'ablaze' }, 
{id: 'meltdown' , name: 'meltdown' }, 
{id: 'casualty' , name: 'casualty' }, 
{id: 'body bags' , name: 'body bags' }, 
{id: 'upheaval' , name: 'upheaval' }, 
{id: 'flood' , name: 'flood' }, 
{id: 'demolished' , name: 'demolished' }, 
{id: 'rioting' , name: 'rioting' }, 
{id: 'hellfire' , name: 'hellfire' }, 
{id: 'curfew' , name: 'curfew' }, 
{id: 'hazardous' , name: 'hazardous' }, 
{id: 'tornado' , name: 'tornado' }, 
{id: 'desolation' , name: 'desolation' }, 
{id: 'flattened' , name: 'flattened' }, 
{id: 'drought' , name: 'drought' }, 
{id: 'derail' , name: 'derail' }, 
{id: 'arson' , name: 'arson' }, 
{id: 'rescued' , name: 'rescued' }, 
{id: 'suicide bombing' , name: 'suicide bombing' }, 
{id: 'wild fires' , name: 'wild fires' }, 
{id: 'wounded' , name: 'wounded' }
	],
   };

$scope.getGraphInfo = function ()
	{
		$http({
  			method: 'GET',
  			url: '/getRealSecondJSON20/' +  $scope.data.repeatSelect
			}).then(function successCallback(response) 
			{
				$http({ method: 'GET', url: '/getRealSecondJSON20ML/' + $scope.data.repeatSelect }).then(function successCallback(response1)
				{
				 getGraph(response.data, response1.data, $scope.data.repeatSelect);
				}, function errorCallback(response1) { });
    			}, function errorCallback(response) {
                     });
	}
}]);
